　　欽定四庫全書　　　　　子部六
　　提要
　　數術記遺　　　　　　天文算法類二〈算書之屬臣〉等謹按數術記遺一卷舊題漢徐岳撰北周甄鸞注岳東萊人晉書律厯志所稱呉中書令闞澤受劉洪乾象法於東萊徐岳者是也隋書經籍志具列岳及甄鸞所撰九章算經七曜術算等目而獨無此書之名至唐藝文志始著於錄書中稱於泰山見劉會稽博識多聞徧於術數余因受業時問曰數有窮乎會稽曰吾曽游天目山中見有隱者云云大抵言其傳授之神秘然案後漢志註引袁山松書曰劉洪泰山𫎇陰人延熹中以校尉應太史徴拜郎中後為會稽東部都尉徵還未至領丹陽太守卒官是洪官會稽後未嘗家居不得言於泰山見之且洪在會稽乃官都尉其為太守實在丹陽而注以為官㑹稽太守錯互殊甚又舊本皆題漢徐岳撰據晉書所載岳當魏黃初中與太史丞韓詡論難日月食五事則岳已仕於魏不得繫之於漢考古尤為疎謬至中列黃帝三等數及積算太一算之類皆絶無義藴其天門金虎等語乃道家詭誕之説甚為隱僻不經注所言算式數位按之正文多不相蒙殆非一手所撰唐代選舉之制算學九章五曺之外兼習此書此必當時購求古算好事者因依託為之而嫁名於岳耳然流傳既久學者或以古本為疑故仍録存之而詳斥其偽以祛後人之惑焉
　　海島算經　　　　　　天文算法類二〈算書之屬臣〉等謹案海島算經一卷晉劉徽撰唐李淳風等奉詔注據劉徽序九章算術有雲徽尋九數有重差之名凡望極高測絶深而兼知其逺者必用重差輒造重差並為註解以究古人之意綴於句股之下度高者重表測深者累矩孤離者三望離而又旁求者四望據此則徽之書本名重差初無海島之目亦但附於句股之下不別為書故隋志九章算術増為十卷下雲劉徽撰葢以九章九卷合此而十也而隋志唐志又皆有劉徽九章重差圖一卷葢其書亦另本單行故別著於錄一書兩出至唐志兼列劉向九章重差一卷則徽之重差既自為卷因遂訛劉徽為劉向而一書三出耳今詳為攷證定為劉徽之書至海島之名雖古無所見不過後人因卷首以海島立表設問而改斯名然唐選舉志稱算學生九章海島共限習三年試九章三條海島一條則改題海島自唐初已然矣其書世無傳本惟散見永樂大典中今裒而輯之仍為一卷篇帙無多而古法具在因宜與九章算術同為表章以見算數家源流之所自焉乾隆四十六年二月恭校上
　　總纂官〈臣〉紀昀〈臣〉陸錫熊〈臣〉孫士毅
　　總　校　官　〈臣〉陸　費　墀










　　欽定四庫全書巻
　　數術記遺
　　余以天門金虎呼吸精泉
　　按星經雲昴者西方白虎之宿太白者金之精也太白入昴金虎相薄法有兵亂周宣王時有人採薪於郊間歌曰金虎入門呼長精吸𤣥泉時人莫能知其義老子曰太白入昴兵其亂徐氏名岳東萊人葢以漢室板蕩又譎詭見於天將訪名山自求多福也
　　羽檄星馳郊多走馬
　　按漢徵天下兵必露檄插羽也老子曰天下有道卻走馬以糞天下無道戎馬生於郊也
　　遂負帙遊山蹠跡志道
　　蹠跡者兩足共躡一足跡也漢文帝時河上公蹠跡為士
　　備厯邱嶽林壑必過乃於太山見劉㑹稽博識多聞徧於數術余因受業頗染所由余時問曰數有窮乎㑹稽曰吾曽游天目山中
　　㑹稽官號漢中人也按厯志稱靈帝光和中穀城守門𠉀太山劉洪造乾象厯又制月行遲疾隂陽厯自洪始也方於太初四分轉精密矣洪後為㑹稽太守劉洪付乾象於東萊徐岳又授吳中書令闞澤澤甚重焉為註解今按地記天目山在吳興之界
　　見有隱者世莫知其名號曰天目先生余亦以此意問之先生曰世人言三不能比兩乃雲捐悶與四維藝經雲捐悶者周公作也先本位以十二時相從其文曰同有文章虎不如龍豕者何為來入兎宮王孫出卜乃造黃鐘犬就馬廐非類相從羊奔蛇穴牛入雞籠徐援稱捐悶乃是竒兩之術發首即竒一後乃竒兩者即為疑更調曰大豬東行遁虎坑兎子欲宿入馬廐羊來入村狗所屯大牛何知乗龍上蛇徃西方入猴鄉雞鳥不止夜䑕藏其言三不能比兩者孔子所造也布十干於其方戊已在西南維其文曰火為木生甲呼丁夫婦義重已隨壬貴夷則統領辛參南丙乙妻則須守後火戊子天癸就庚四維東萊子所造也布十二時四維之一其文曰天行星紀石隨龍淵風吹羊圏天門地連兎居蛇穴馬到猴邊雞飛豬鄉䑕入虎躔摯亦有四維之戱與此異焉
　　數不識三妄談知十
　　三者上中下也十數昻一數也於先之意非止十等之名將闗大衍之㫖事一也
　　猶川人事迷其指歸乃恨司方之手爽
　　司方者指南車也狐疑論稱黃帝將見大隗於具茨之山至襄城之野川谷之山率多斜曲川人曰積數之常乃固以之非指南車之為爽乃指謂〈闕〉擢司方所指者乃為我等之西也然則指車豈其謬也乃行數里川人又曰司方所指我等之東也衆共論之為疑笑於時容成子怪而問之川人以其狀白對容成曰在此望之具茨之山於汝住所復在何方川人又曰在我之東容成曰汝向言在西今更在東何言不常也此非山川之移川曲之斜人心之惑耳川人乃請於斜曲之中定東西南北之術容成曰當豎一木為表以索繫之表端引索繞表畫地為規日初出影長則出圓規之外向中影漸短入規之中候西北隅影初入規之處則記之乃過中影漸長出規之外候東北隅影初出規之處又記之取二記之所即正東西也折半以指表則正南北也川人志之以為知方之術
　　未識剎那之賒促安知麻姑之桑田
　　按楞伽經雲稱量長短者積剎那數以成日夜剎那量者壯夫一彈指日過頃遙六十四剎那二百四十剎那名一恆剎那三十恆剎那名一婆羅三十婆羅名一摩㬋羅多三十摩㬋羅多子為一日一夜其一日一夜有六百四十八萬剎那神仙傳稱麻姑謂王方平曰自接侍以來見東海三變為桑田向到蓬萊水乃淺於往者略半也豈復將為陵陸乎方平乃曰東海行復揚塵耳
　　不辨積微之為量詎曉百億與大千
　　按楞伽經雲積微成一阿耨七阿耨為一銅上塵七銅上塵為一水上塵七水上塵為一兎毫上塵七兎毫上塵為一羊毛上塵七羊毛上塵為一牛毛上塵七牛毛上塵為一嚮中由塵七嚮中由塵成一蟣七蟣成一蝨七蝨成一麥橫七麥橫成一指節二十四指節為一肘四肘為一弓去肘五百弓為阿蘭惹據若摩羯國人一拘盧舍為五里八拘盧舍為一由旬一由旬計之為四十里也及以算校之正得一十七里何者計二尺為一肘四肘為一弓弓長八尺也計五百弓有四千尺也八拘盧舍則有三萬二千尺以步法六尺除之得五千三百三十三步以里法三百步除之得一十七里餘二百三十三步華嚴經雲四天下共一日月為一世界有千世界有一小鐵圍山遶之名曰小千世界有一小千世界有中鐵圍山遶之名曰中千世界有中千世界有大鐵圍山遶之名曰大千世界此三千大千世界之中有百億須彌山乃今校之世有十億日月十億須彌山何者置小千世界之中有一千日月以一千乗之得一百萬即中千世界中日月數也置中千世界日月之數以一千乗之即得大千世界日月之數也又雲四天下者須彌山南曰閻浮提山北曰鬱丹越山東曰〈闕〉提山西曰俱瞿耶尼山其日月一日一夜照四天下山南日中山北夜半山東日中山西夜半及以成事驗之則有疑矣何者按閻浮提人在須彌山南及至二月八月春秋分晝夜停以漏刻度之則晝夜各五十刻也然則日初出時東向視日之當我之東即漏刻及其日浸當我之西五十刻其一日一夜之中遶三天下而來所以至曉亦得五十刻也胡以十萬為億有百倍日月四天下等事有所未詳也
　　黃帝為法數有十等及其用也乃有三焉十等者億兆京垓秭壤溝澗正載三等者謂上中下也其下數者十十變之若言十萬曰億十億曰兆十兆曰京也中數萬萬變之若言萬萬曰億萬萬億曰兆萬萬兆曰京也上數者數窮則變若言萬萬曰億億億曰兆兆兆曰京也按詩云胡取禾三百億兮毛注曰萬萬曰億此即中數也鄭注云十萬曰億此即下數也徐援受記雲億億曰兆兆兆曰京也此即上數也鄭注以數為多故合而言之
　　從億至載終於大衍
　　按易經大衍之數五十其用四十有九又雲天一地二天三地四天五地六天七地八天九地十天數五地數五天數二十有五地數三十凡天地之數五十有五也
　　下數淺短計事則不盡上數宏廓世不可用故其傳業惟以中數耳餘時問曰先生之言上數者數窮則變既雲終於大衍大衍有限此何得窮先生笑曰蓋未之思耳數之為用言重則變以小兼大又加循環循環之理豈有窮乎
　　小兼大者備加董氏三等術數加更載為煩故略焉
　　余又問曰為算之體皆以積為名為復更有他法乎先生曰隸首注術乃有多種及余遺忘記憶數事而已其一積算　其一太乙　其一兩儀　其一三才　其一五行　其一八卦　其一九宮　其一運算　其一了算　其一成數　其一把頭　其一龜算　其一珠算　其一計算
　　此等諸法隨須更位唯有九宮守一不移位依行色並應無窮
　　從積以來至珠算從一至於百千已上位更不變改位依行色者位依五行之色北方水色黒數一東方木色青數三南方火色赤數二西方金色白數四中央土色黃數五言位依行色也一位第一用𤣥珠十位第二用赤珠百位第三用青珠千位第四用白珠萬位第五用黃珠十萬位以赤綖繫黃珠百萬位以青綖繫黃珠千萬位以白綖繫黃珠萬萬位曰億以黃綖繫黃珠自餘諸位唯兼之故曰並應無窮也
　　余慕其術慮恐遺忘故與好事後生記之雲爾
　　積算
　　今之常算者也以竹為之長四寸以效四時方三分以象三才言算法是包括天地以燭人情數始四時終於大衍猶如循環故曰今之常算是也
　　太乙算太乙之行去來九道
　　刻板橫為九道豎以為柱柱上一珠數從下始故曰去來九道也
　　兩儀算天氣下通地稟四時
　　刻板橫為五道豎為位一位兩珠上珠色青下珠色黃其青珠自上而下第一刻主五第二刻主六第三刻主七第四刻主八第五刻主九其黃珠自下而上第一刻主一第二刻主二第三刻主三第四刻主四而已故曰天氣下通地稟四時也
　　三才算天地和同隨物變通
　　刻板橫為三道上刻為天中刻為地下刻為人豎為算位有三珠青珠屬天黃珠屬地白珠屬人又其三珠通行三道若天珠在天為九在地主六在人主三其地珠在天為八在地主五在人主二人珠在天為七在地主四在人主一故曰天地和同隨物變通按三元上元甲子一七四中元甲子二八五下元甲子三六九隨物變通也
　　五行算以生兼生生變無窮
　　五行之法水𤣥生數一火赤生數二木青生數三金白生數四土黃生數五今為五行算色別九枚以五行色數相配為算之位假令九億八千七百六十五萬四千三百二十一者則以白算配黃為九億以青算配黃為八千以赤算配黃為七百以𤣥算配黃為六十以一黃算為五萬以一白算為四千以一青算為三百以一赤算為二十以𤣥算為一也故曰以生兼生生變無窮
　　八卦算針刺八方位闕從天
　　算為之法位用一針鋒所指以定算位數一從離起指正南離為一西南坤為二正西兌為三西北乾為四正北坎為五東北艮為六正東震為七東南巽為八至九位闕即在中央豎而指天故曰位闕從天也
　　九宮算五行參數猶如循環
　　九宮者即二四為肩六八為足左三右七戴九履一五居中央五行參數者設位之法依五行已注於上是也
　　運籌算小往大來運於指掌
　　此法位別須算籌一枚令長五寸其一籌上各為五刻上頭一刻近一頭刻之其下四刻迭相去一寸令去下頭亦一寸入手取四指三間間有三節初食指上節間為一位第二節間為十位第三節間為百位至中指上節間為千位中節間為萬位下節間為十萬位無名指上節間為百萬位中為千萬位下為億也他皆倣此至算刻近頭者一刻主五其逺頭者一刻之別從下而起主一主二主三主四若一二三四頭則向下於掌中中若其至五則迴取上頭向掌中故曰小往大來也迴游於手掌之間故曰運於指掌也
　　了知算首惟秉五腹背兩兼
　　了算之法一位為一了字其了有三曲其下股之末內主一外主九下次第一曲內主二外主八當二曲內主三外主七其第三曲內主四外主六當了字之首則主五故曰首唯秉五腹背兩兼也
　　成數算春夏生養秋收冬成
　　算之法位別須五色算一枚其一算之象頭各以黃色為本以生數也餘色為首其五行各配土為成數也水𤣥生數一成數六火赤生數二成數七木青生數三成數八金白生數四成數九若以首向東及南為生數向西及北為成數假令有九億八千七百六十五萬四千三百二十一者則以白算首向北為九億以青算首向西為八千以赤算首向北為七百以𤣥算首向西為六十以黃算一枚豎為五萬以白算首向東為四千以青算首向南為三百以赤算首向東為二十以𤣥算首向南為一也故首向東向南為生數向西向北為成數故云春夏生養秋收冬成也
　　把頭算以身當五目視四方
　　把頭之法別須算二枚一漫一齒者一面刻為一其一面為二一面為三其一面為四也漫者為把為猶即當五算生齒者為把頭一目當一算故曰以身當五目視四方也
　　龜算春夏秋成遇冬則停
　　為算之法位別一龜龜之四面為十二時以龜首指寅為一指卯為二指辰為三指已為四指午為五指未為六指申為七指酉為八指戌為九指亥為十龜頭指不以為數故云遇冬則停也
　　珠算控𢃄四時經緯三才
　　刻板為三分其上下二分以停游珠中間一分以定算位位各五珠上一珠與下四珠色別其上別色之珠當其下四珠珠各當一至下四珠所領故云控𢃄四時其珠游於三方之中故云經緯三才也
　　計數既捨數術宜從心計
　　言捨數術者謂不用算籌宜以心計之或問曰今有大水不知廣狹欲不用算籌度而知之假令於水北度之者在水北置三表令南北相直各相去一丈人在中表之北平直相望水北岸令三相直即記南表相望相直之處其中表人目望處亦記之又從中相望處直望水南岸三相直㸔南表相直之處亦記之取南表二記之處髙下以等北表㸃記之還從中表前望之所北望之北表下記三相直之北即河北岸也又望上記三相直之處即河北岸中間則水廣狹也或曰今有長竿一枝不知髙下既不用籌算云何計而知之答曰取竿之影任其長短畫地記之假令手中有三尺之物亦豎之取杖下之影長短以量竿影得矣或問曰今有深坑在上㸔之可知尺數已否答曰以一杖極意長短假令以一丈之杖擲著坑中人在岸上手提之一杖舒手望坑中之杖遙量知其寸數即令一人於平地捉一丈之杖漸令卻行以前者遙望坑中寸量之與望坑中數等者即得或問曰今甲乙各驅羊一羣人各問多少而甲曰更得乙一口即加五多於甲問各幾何答曰甲九口乙十一口或問曰甲乙各驅羊行人問其多少甲曰我得乙一口即與乙等乙曰我得甲一口則倍多於甲問各幾何答曰甲二乙四或問曰今有雞翁一隻直五文雞母一隻直四文雞兒一文得四隻今有錢一百文買鷄大小一百隻問各幾何答曰雞翁十五隻雞母一隻雞兒八十四隻合大小一百隻計數多少略舉其例或問曰今有雞翁一隻直四文雞母一隻直三文雞兒三隻直一文今有錢一百文還買雞大小一百隻問各幾何答曰雞翁八隻雞母十四隻雞兒七十八隻合一百隻
　　或問鸞曰世人乃雲算位者算子則豎信有之乎鸞答之曰依如針算則以針鋒指八卦之位一從離起右行周帀至巽八位既合及其至九無位可指是以在中豎而指天故曰有位合算子豎之名也又問鸞曰昔有吳人趙逹用一算之法頭乗尾除其有此術乎鸞答之曰此乃傳之失實猶〈闕〉公獲夔一足丁氏穿井而獲一人也何者按乗之法重張其位以上呼一置得於中置所除之數於下又置得於上亦三重張位然則乗之與除法用不同欲以一算上下當六重之身増損為衆位之實若其神也則藉一算之功如其凢也理不可爾問者又曰若如來指為妄矣此言何從而至鸞答之曰此亦傳之過實也何者積一算者蓋一位用一算也頭乗尾除者欲使乗別位乗時以針鋒指之除時則用針尾撝之故有頭乗尾除之名也












　　數術記遺
