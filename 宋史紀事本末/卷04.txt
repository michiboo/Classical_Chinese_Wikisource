太祖乾德二年十一月，命王全斌伐蜀。蜀主孟昹自襲位，日事奢縱，以王昭遠、伊審微、韓保正、趙崇韜分掌機要，總統軍政。昹母太后李氏，本唐莊宗嬪御，以賜知祥，嘗謂昹曰：「吾見莊宗及爾父滅樑、定蜀，當時主兵者，非有功不授，故士卒畏服。今昭遠乃汝給事左右之人，保正又世祿之子，素不習兵，一旦有警，此輩何所用之？」蜀主不聽。及宋下荊、湖蜀，相李昊言於蜀主曰：「臣觀宋氏啓運，不類漢、周，一統海內，其在此乎。若通職貢，亦保安三蜀之良策也。」蜀主欲通使，昭遠固止之，乃率兵屯峽路，增置水軍。帝聞之，遂謀伐蜀，以張暉爲鳳州團練使。暉盡得蜀虛實險易以聞，帝大悅。已而蜀山南節度判官張廷偉說知樞密院事王昭遠曰：「公素無勳業，一旦位至樞近，不自建立大功，何以塞時論。莫若通好幷州，令發兵南下，我自黃花、子午谷出兵應之，使中原表裏受敵，則關右之地可撫而有。」昭遠然其言，勸蜀主遣趙彥韜等以蠟書間行，約北漢濟河同舉兵。至汴，彥韜潛取其書以獻，帝笑曰：「西討有名矣。」帝乃命王全斌爲西川行營都部署，劉光義、崔彥進副之，王仁贍、曹彬爲都監，將步騎六萬，分道伐蜀。且命爲蜀主治第於汴水之涯，凡五百餘間，供帳什物具備。詔全斌謂曰：「凡克城寨，止籍其器甲、芻糧，悉以財帛分給將士。吾所欲得者，其土地耳。」全斌及彥進等由鳳州進，光義及彬等由歸州進。蜀主聞之，以王昭遠爲都統，趙崇韜爲都監，韓保正爲招討使，李進副之，帥兵拒宋。命左僕射李昊餞於郊，昭遠酒酣，攘臂言曰：「吾此行非止克敵，取中原如反掌耳。」手執鐵如意，指麾軍事，自方諸葛亮。
十二月，王全斌等克萬仞、燕子二砦，遂取興州，連拔石圌等二十餘砦，獲糧四十萬。全斌先鋒將史進德與保正、李進等戰於三泉砦，敗之，擒保正及進等，獲糧三十萬。師至羅川，蜀師依江列陣以待，崔彥進遣張萬友奪其橋，蜀人退保大漫天砦。彥進、萬友與康延澤分三道擊之，蜀人悉其精銳逆戰，大敗而潰。王昭遠等復引兵迎敵，三戰皆敗，昭遠渡桔柏江，焚樑，退保劍門。
劉光義、曹彬克蜀夔州蜀寧江制置使高彥儔死之。初，夔州有鎖江爲浮樑，上設敵棚三重，夾江列礟具。光義等行，帝示以地圖，指鎖江曰：「我軍溯流至此，慎勿以舟師爭勝，當先以步騎陸行襲擊之。俟其勢卻，即以戰棹夾攻，取之必矣。」及師至夔，距鎖江三十里，舍舟步進，先奪浮樑，復牽舟而上。彥儔謂監軍武守謙曰：「北軍涉遠而來，利在速戰，不如堅壁以待之。」守謙不從，獨領麾下與光義騎將張廷翰戰，敗走。廷翰乘勝登城，彥儔力戰不勝，身被十餘創，左右皆散。彥儔奔歸府第，整衣冠，望西北再拜，縱火自焚死。後數日，光義得其骨於灰燼中，以禮葬之。
三年春正月，王全斌進次益光，得降卒，言：「益光江東，越大山數重，有狹徑名來蘇，蜀人於江西置柵，對岸可渡。自此出劍門南二十里至青強與官道合。若行此路，則劍門不足恃也。「乃分兵趨來蘇，跨江爲浮樑以濟。蜀人見之，棄柵而遁，遂進次青強。王昭遠聞之，留其偏將守劍門，自引衆退屯漢源坡以待全斌。未至漢源，劍門已破，昭遠股慄失次。趙崇韜佈陣出戰，昭遠據胡牀不能起。全斌進擊，大破之，斬首萬餘級。昭遠走投東川，匿倉舍下，悲嗟流涕，目盡腫，俄而追騎至，與崇韜俱被執。
劉光義、曹彬進克蜀萬、施、開、忠四州，峽中郡縣悉定，遂州知州陳愈以城降。時，諸將所過，鹹欲屠戮以逞，獨曹彬禁止之，故峽路兵始終秋毫無犯。
蜀主聞昭遠敗，大懼，出金帛募兵，令太子玄喆統之，李廷珪、張惠安等爲之副，趨劍門以御王師。玄喆素不習武，廷珪、惠安皆庸懦無識。玄喆離成都，但攜姬妾、樂器及伶人數十輩，晨夜嬉戲，不恤軍政。至綿州，聞已失劍門，遂遁還東川，所過焚廬舍、倉廩而去。蜀主惶駭，問計於左右，有老將石斌對曰：「宋師遠來，勢不能久，請聚兵固守以老之。」蜀主曰：「吾父子以豐衣美食養士四十年，及遇敵，不能爲我東向發一矢，今若固壘，何人爲我效命？」已而全斌進次魏城。乙酉，蜀主命李昊草表請降，全斌受之，遂入城。劉光義等亦引兵來會。前蜀之亡也，降表亦昊爲之，蜀人夜書其門曰：「世修降表李家。」師自發汴至受降，凡六十六日，得州四十五，縣百九十八。帝以呂餘慶知成都府。
初，全斌之伐蜀也，屬汴京大雪，帝設氈帳於講武殿，衣紫貂裘帽以視事，忽謂左右曰：「我被服如此，體尚覺寒，念西征將士，衝冒霜雪，何以堪處？」即解裘帽，遣中使馳賜全斌，仍諭諸將曰：「不能遍及也。」全斌拜賜感泣，故所向有功。
王全斌、崔彥進、王仁贍等在蜀，晝夜宴飲，不恤軍務，縱部下掠子女，奪財物，蜀人苦之。曹彬屢請旋師，全斌不從。既而帝詔發蜀兵赴汴，並優給裝錢，全斌等擅減其數，仍縱部曲侵擾之，蜀兵忿怨思亂。三月，蜀兵行至綿州，遂作亂，劫屬邑，衆至十餘萬，自號興國軍。獲蜀文州刺史全師雄，推以爲帥。全斌遣朱光緒往招撫之，光緒盡滅師雄之族，納其愛女。師雄怒，遂無歸志，率衆攻彭州，據之，自稱興蜀大王，開幕府，署節帥二十餘人分據要害，兩川民爭應之。崔彥進、高彥暉等分道攻討，爲師雄所敗，彥暉戰死。全斌又遣張廷翰擊之，復不利，退保成都。師雄勢益張，遣兵守綿、漢間，斷閣道，緣江置砦，聲言欲攻成都。於是邛、蜀、眉、雅、果、遂、渝合、資、簡、昌、普、嘉、戎、榮、陵十六州及成都屬縣皆起兵應師雄，全斌等大懼。時成都城中降兵未遣者尚二萬七千，全斌慮其應賊，與諸將謀，誘至夾城中，盡殺之。
六月，蜀主昶舉族與官屬至汴，率子弟素服待罪闕下。帝御崇元殿，備禮見之，賜賚甚厚。拜昶檢校太師兼中書令，封秦國公，子玄喆爲泰寧軍節度使，從臣親屬授官有差。昶尋卒，帝廢朝五日，追封楚王。昶母李氏，本唐莊宗宮妾也，至汴，帝命肩輿入宮，謂之曰：「國母善自愛，無慼慼懷鄉土，異日當送母歸。」李氏曰：「妾本太原人，倘得歸老並土，妾之願也。」時帝有北征意，聞其言甚喜。及昶卒不肯哭，以酒酹地曰：「汝不死社稷，貪生以至今日。吾所以忍死者，以汝在耳。今汝既死，吾何用生爲？」不食數日亦死，帝聞而傷之。帝嘗見昶寶裝溺器，命撞碎之，曰：「以七寶飾此，當以何器貯食。所爲如是，不亡何待？」
十二月，帝聞兩川兵起，客省使丁德裕領兵往討之，以康延澤爲東川七州招安巡檢使。時，全師雄屯新繁，劉光義、曹彬進擊，大破之。師雄退屯於郫，王全斌、王仁贍復攻之，師雄走灌口。水陸轉運使曹翰會仁贍圍賊呂翰於嘉州，翰棄城走。是夕，賊還，結衆圍城，約以三鼓進攻。曹翰諜知之，戒掌漏者止擊二鼓，賊衆不集，至明而遁，追襲，大破之。全斌復破師雄於灌口，師雄走金堂，病死。其黨據銅山，推謝行本爲主放，延澤旋拔之。德裕等分道招輯，賊衆悉平。西南諸夷多來請附。
五年春正月甲寅，徵王全斌等還。帝自聞蜀兵亂，凡使者至，各令陳王全斌等不法事，因盡得其狀，乃皆徵還。以其初立功，不欲屬吏，但令中書問狀。全斌等具伏黷貨、殺降之罪。遂責降全斌崇義節度留後，崔彥進昭化節度留後，王仁贍右衛大將軍。以劉光義等廉謹，並進爵秩，復召呂餘慶參知政事。仁贍等歷詆諸將，冀以自免，且曰：「清廉畏慎，不負陛下者，曹彬一人耳。」彬之還也，囊中惟圖書、衣衾，又能戢下，於是賞彬特優。彬入謝曰：「諸將皆獲罪，臣不敢奉詔。」帝曰：「卿有茂功，又不矜伐。懲勸國之常典，可無遜。」
二月，以沈義倫爲樞密副使。義倫爲四川轉運使，隨軍入蜀，獨居佛寺，蔬食，有以珍異獻者皆卻之，及歸，篋中惟書數卷而已。帝嘗問曹彬以官吏善否，彬曰：「臣止監軍旅，至於採察官吏，非所職也。」固問之，曰：「義倫可用。」帝嘉之，故有此命。
