元順帝至正十五年春，徐壽輝將明玉珍據成都。
玉珍，隨州人，世農家。身長八尺，目重瞳，以信義為鄉黨所服。初聞徐壽輝兵起，集鄉兵屯於青山，結柵自固。未幾，降於壽輝，授元帥，隸倪文俊麾下，鎮沔陽。與元將哈林禿戰湖中，飛矢中右目，微眇。十四年，以兵千人，槳斗船五十，溯夔而上。時青巾盜李喜喜聚兵苦蜀，元義兵元帥楊漢以兵五千禦之，屯平西。右丞相完者都鎮重慶，置酒飲漢，欲殺之。漢覺，脫身走，順流下巫峽，遇玉珍，訟之，且言重慶可取狀。玉珍未決，萬戶戴壽曰：「攻重慶，事濟據蜀，不濟歸，無損也。」從之。遂進克其城，完者都遁，父老迎入城。玉珍禁侵掠，市肆晏然，降者相繼。
十八年，完者都自果州來攻重慶，屯嘉定之大佛寺，明玉珍使明三禦之。明三，黃陂人，驍勇善戰，玉珍弟畜之，後復姓名曰萬勝。又密遣猛士夜眼陳劫烏斗山寨，擣嘉定，皆下之，惟大佛寺未下。玉珍親濟師，旬日城潰，完者都、參政趙資、平章郎歹革皆死之，人稱「三忠」。道出瀘州，自訪元進士劉禎，喜曰：「吾得一孔明也。」
二十一年，明玉珍稱隴蜀王。初，玉珍謀討陳友諒，乃整兵守夔關，不與通，復立廟以祀徐壽輝。至是，遂自稱隴蜀王。
二十二年春三月，明玉珍僭稱帝於蜀，國號大夏，改元天統。倣周制設六卿，又置翰林院承旨學士、國子監等官，賦稅十取其一，開廷試，置雅樂供郊祀之祭，皆劉禎為也。
二十三年，明玉珍遣萬勝等三道攻雲南，梁王孛羅走金馬山，勝入城據之。孛羅復集眾來攻，勝敗於關灘，引還。
二十四年，萬勝攻興元，敗還。鄒興克巴州。
二十五年九月，夏主明玉珍以萬勝、戴壽為左、右丞相。遣參政江儼來通好，命都事孫養浩報之。是年，萬勝取興元。
二十六年春三月，夏主明玉珍卒，年三十六。玉珍頗節儉，好文學，蜀人安之。子昇嗣。昇年始十歲，母彭氏同聽政，改元開熙。其都察院張文炳用事，忌萬勝，使玉珍義子明昭矯彭氏旨殺之。勝，夏驍將也，兵無不一當百。勝死，夏以不競。劉禎代為丞相。吳友仁移檄興兵，昇命戴壽討之。友仁曰：「不誅昭，國必不安。昭若朝誅，吾當夕解。」壽乃奏誅昭。友仁入朝謝罪，不問。
九月己亥，夏主明昇遣使來聘，使者自言：「其國東有瞿塘三峽之險，北有劍閣棧道之阻，古人謂『一夫守之，百人莫過』。而西控成都，沃壤千里，財富利饒，實天府之國。」太祖笑曰：「蜀人不以修德保民為本，而恃山川之險，誇其富饒，此豈自天而降耶！」使者退，太祖因語侍臣曰：「吾平日為事，只要務實，不尚浮偽。此人不能稱述其主之善，而但誇其國險，固失奉使之職矣。吾常遣使四方，戒其謹於言語，勿為誇大，恐遺笑於人。如蜀使者之謬妄，當以為戒也。」遣參知政事蔡哲往報蜀。哲挾畫工同往，圖其山川險易以獻。太祖覽而嘉之，遂為取道伐蜀之張本。
太祖洪武元年冬十二月，遣使以書諭夏主明昇。
二年秋八月，夏主明昇遣使來貢。王師平關陝，蜀人震恐。戴壽謂昇曰：「大明天子遣將用兵，所向無敵，以王保保、李思齊強盛，竟莫能禦，況吾蜀乎！倘一旦有警，計將安出？」吳友仁曰：「蜀地非中原比，設有緩急，據險可守。為今之計，莫若外假交好以緩敵，內修武事以自強。」昇從其言，遣使修貢。上賜璽書答之，曰：「朕歷觀古有蜀者，如公孫述、李特、王建、孟知祥輩，皆能乘機進取，而善守之道未聞，今足下必圖所以善守可也。朕連年出師，所向克捷，皆諸將用命，故能成功。遠勞致禮，益見厚意，因使者還，姑以此復。」
冬十月壬戌，遣平章楊璟諭明昇奉國入覲。昇牽於羣議不能決。璟將還，復以書曉之，曰：「古者同力度德，同德度義。無可度焉，則為順圖。足下自謂瞿塘、劍閣，一夫負戈，萬卒誰何，此皆不達時變相謬誤。足下自度，孰與劉備、諸葛孔明，然僅僅能自保。足下疆埸，南不過播州，北不過興元。王師一至，所為足下謀者，各自為計，足下奉老母安歸乎？足下即沖幼，當亦痛心老母。順逆之圖，度之而已。」昇不能從。
三年夏五月，大將軍徐達既出安定，走王保保，乃遣左副將軍鄧愈招撫土番，而自帥所部攻興元。以傅友德為前鋒，自秦州南出一百八渡至略陽，擒故元平章蔡琳，遂入沔州。分遣裨將金興旺等由鳳翔入連雲棧，合攻興元。興元守將劉思忠、知院金慶祥迎降。留金興旺、張龍守之，達還軍西安。
秋七月，蜀將吳友仁寇興元，守將金興旺、張龍出兵擊卻之。明日，友仁復來攻，興旺與戰，面中流矢，拔矢再戰，斬首數百。時城中守兵纔三千，友仁兵三萬，興旺以眾寡不敵，歛兵入城，遣使間道走寶鷄請援兵。友仁圍城，決濠填塹，攻益急。興旺嬰城拒守，發巨砲擂石，敵兵多死傷。時徐達在西安得報，即帥師還屯益門鎮。先遣傅友德領兵三千，徑趨黑龍江，夜襲木槽關，攻斗山砦。友德令軍中人持十炬燃于山上，友仁軍望見大驚，乘夜遁。
四年春正月丁亥，上親祀上下神祇，告伐明昇。命中山侯湯和為征西將軍，江夏侯周德興為左副將軍，德慶侯廖永忠為右副將軍，滎陽侯楊璟、都督僉事葉昇等率京衛、荊、湘舟師，由瞿塘趨重慶，潁川侯傅友德為前將軍，濟寧侯顧時為左副將軍，都督僉事何文輝等率河南、陝西步騎，由秦、隴趨成都。上諭和等曰：「今天下大定，四海奠安，惟川蜀未平耳。朕以明玉珍嘗遣使修好，存事大之禮，憫明昇稚弱，不忍加兵，數遣賜開諭，冀其覺悟。昇乃惑於羣議，反以兵犯吾興元，不可不討。今命卿等率水陸大軍，分道並進，首尾攻之，使彼疲於奔命，勢當必克。但師行之際，在肅行伍，嚴紀律，以懷降附，無肆殺掠。昔王全斌之事，可以為戒，卿等慎之！」諸將陛辭，上復密諭傅友德曰：「蜀人聞吾西伐，必悉其精銳東守瞿塘，北阻金牛，以拒我師。彼謂地險，吾兵難至。若出其意外，直擣階、文，門戶既隳，腹心自潰。兵貴神速，但患卿等不勇耳。」友德頓首受命。仍命宋國公馮宗異往陝西修城池，衛國公鄧愈往襄陽訓練軍馬，運糧餉以給征蜀軍士。
二月，江夏侯周德興、指揮胡海等進兵，取蜀之龍伏隘，進奪覃垕、溫陽關。中山侯湯和率師克歸州李逢春烽火山寨。分遣南雄侯趙庸、宣寧侯曹良臣帥兵取桑植容美洞，會周德興合攻茅岡、覃垕寨，克之。
三月，平章楊璟進次瞿塘，不利。先是，蜀人自謂瞿塘天險，其平章莫仁壽守之，以鐵索橫斷關口。及聞王師臨境，又遣左丞戴壽、平章鄒興、副樞飛天張等益兵為固守計。壽等於鐵索外北倚羊角山，南倚南城寨，鑿兩岸壁，引纜為飛橋三，平以木板，置砲石木竿鐵銃其上，傍橋兩岸，復置砲以拒王師。至是，璟師次夔州大溪口，遣指揮韋權率兵出赤甲山，以逼夔州。指揮李某出白鹽山下，逼夔府南岸，以攻南城寨。璟與都督僉事王簡出大溪口，進攻瞿塘扼江之眾。璟戰不利，赤甲、白鹽之師亦退還歸州。
潁川侯傅友德受命馳至陝，集諸道兵，揚言出金牛，而使人潛覘，知青州、果陽空虛，階、文雖有兵壘而守備單弱。於是引兵趨陳倉，選精銳五千為前鋒，攀援山谷，晝夜兼行，大軍繼之。夏四月丙戌，直抵階州。蜀守將平章丁世真率眾來拒，友德擊敗之，生擒其將雙刀王等十八人。世真遁去，遂克階州。進至文州，距城三十里，蜀人斷白龍江橋以阻我師。友德督兵修橋以渡，至五里關。蜀平章丁世真復集兵據險，都督同知汪興祖躍馬直前，中飛石死。友德怒，奮兵急擊，破之。世真僅以數騎遁去，遂拔文州。
庚寅，上以湯和、傅友德等伐蜀三月，未得捷報，命永嘉侯朱亮祖為右副將軍，帥師助之。丁酉，傅友德下青州、果陽，留指揮潘忠守之，進兵徇江油、彰明二縣，下之，癸卯，遂趨綿州。友德選精銳鼓行而前，別遣都督僉事藍玉夜襲其壘。蜀守將向大亨軍驚擾達旦，友德麾兵乘之，俄大風起，諸軍乘風縱擊，蜀兵大敗，遂克綿州。龍驤衛指揮史鑑死之，大亨走保漢州。友德至漢州，阻水不得渡，乃命軍中造戰艦百餘艘。時蜀人雖失階、文，猶恃漢水自固，及聞我師造舟進取，乃益震恐。五月己卯，戰艦成。友德將進兵漢州，欲以軍事達湯和，而山川懸隔。適江水暴漲，乃以木牌數千，大書克階、文、綿州日月，投漢江順流而下，蜀守者見之，為之解體。初，蜀人命丞相戴壽、太尉吳友仁等悉眾守瞿塘，以扼三峽之險。及聞友德破階、文，擣江油，壽等乃與友仁分瞿塘守兵還援漢州，以保成都。未至，而友德舟師已逼漢州，向大亨悉兵陣於城下，友德選驍騎擊敗之。既而壽等兵至，友德下令諸將曰：「彼勞師遠來，聞向大亨新敗，必洶洶，可一戰克也。」乃親帥師迎擊壽等，大敗之。六月壬午，遂拔漢州，壽與大亨走成都，臨江侯陳德追擊，又敗之，獲其卒三千餘人，馬三百匹，友仁走古城。友德乃以濟寧侯顧時守漢州，自將擊古城，又大敗其眾，殺獲二千餘人，並擒宣慰胡孔彰等，獲馬騾五百餘匹。友仁自古城遁還保寧。
時湯和兵發歸州，進攻瞿塘關，以江水暴漲，不得進，乃駐師大溪口，欲俟水稍平。上聞之，恐其逗遛緩事，而傅友德捷書適至，乃詔和曰：「傅將軍率精銳，冒險深入，克階、文及青州、果陽、白水江之地。兵既越險，次於平川，蜀人無險可恃，正當水陸並進，使彼首尾受敵，疲於奔命。平蜀之機，正在今日。朕前日所以語爾者，獨不記憶乎？何怯之甚也！」詔至，廖永忠遂率所部先進，和猶遲疑不決。會得友德木牌於江流，迺進兵，自白鹽山伐木開道，由紙牌坊溪趨夔州。永忠兵先至舊夔州，蜀平章鄒興、副樞飛天張等出兵拒戰。戊子，永忠分軍為前後陣，軍既交，出後軍兩翼夾擊之，興等大敗。明日，復併兵攻之，擒其元帥龔興，殺溺死者甚眾。辛卯，永忠進兵瞿塘關。永忠以山峻水急，而蜀人設鐵索飛橋，橫據關口，我舟不得上，乃密遣壯士數百人，舁小舟踰山度關，出其上流，人持糗糧帶水筒以禦饑渴。山多草木，令將士皆衣青蓑衣，魚貫山巖石間，蜀人不覺也。度已至，乃率精銳出黑葉渡，分為兩道。夜五鼓，以一軍攻其陸寨，一軍攻其水寨。攻水寨將士，皆以鐵裹船頭，置火器而前。黎明，蜀人盡銳來拒，永忠先破其陸寨。既而將士舁舟出江者，一時俱發上流，揚旗鼓譟而下，蜀人出不意，大駭，而下流之師亦擁舟急擊，發火砲火筒夾攻，大破之，鄒興中火箭死。遂焚其三橋，斷其橫江索，擒同僉蔣達等八十餘人，斬首千餘級，溺死者無算，飛天張、鐵頭張等皆遁去。永忠入夔州。明日，湯和兵始至，永忠乃與分道並進。和率步騎，永忠率舟師，約會於重慶。
戊戌，蜀平章丁世真陷文州。先是，傅友德克文州，留指揮朱顯忠守之。世真合番寇數萬來攻，顯忠拒卻之。其趙元帥復與世真合兵攻城，城中食且盡，外援不至，部下皆曰：「與其陷死地，孰若出城求生路乎？」顯忠厲聲曰：「為將守城，城存與存，城亡與亡，豈有求活將軍邪！」詰旦，世真攻益急，顯早出東門拒戰，而世真復攻西門。日且暮，顯忠被創，裹瘡決戰，力不支，城破，死之。千戶王均諒被執不屈，蜀人磔之於文州東門。初，顯忠領士卒七百人，及城破，僅百餘人。既而友德調兵來援，世真棄城走。事聞，恤顯忠、均諒家。夏守金州九龍山寨平章愈思忠率官屬軍民二千三百餘人，詣友德軍門降，獻良馬千匹。友德遣人送思忠至京，上命還其馬，賜第居京師。世真復率餘黨寇秦州，攻圍五十餘日，城中食盡，括牛畜以食軍。友德調兵來援，擊走之。世真逃竄山巖，自以拒敵官軍，殺傷者多，懼不敢出，夜宿梓潼廟中，為帳下小校所殺。及蜀平，小校赴京言狀，上曰：「小校殺本官，非義也。」不賞。
廖永忠帥舟師自夔州乘勝抵重慶，沿江州縣望風奔附。次銅鑼峽，明昇與右丞劉仁等大懼。仁勸明昇奔成都，其母彭氏泣曰：「事勢如此，縱往成都，不過延命旦夕，何益！」仁曰：「然則奈何？」彭氏曰：「大軍入蜀，勢如破竹。今城中軍民雖數萬，皆膽破心怖，豈能效力？若毆之出戰，死傷必多，亦終不免也。不如早降，以免生靈於鋒鏑。」明昇遂遣使詣永忠軍，全城納款。永忠以湯和軍未至，辭不受。癸卯，湯和至重慶，會永忠以兵駐朝天門外。是日，明昇面縛銜璧，與母彭氏及其右丞劉仁等奉表詣軍門。和受璧，永忠解縛，承制撫慰。下令將士不得侵掠，撫諭戴壽、向大亨等家，令其子弟持書往成都招諭。遣指揮萬德送明昇等並降表於京師。朱亮祖兵亦至。
秋七月，傅友德兵圍成都，戴壽、向大亨等出戰，以象載甲士列於陣前。友德命前鋒以火器衝之，象卻走，壽兵躪藉死者甚眾。會湯和遣人報重慶之捷，壽等亦得家書，聞重慶已降，而室家皆完，乃籍府庫倉廩，遣其子詣軍門納款，友德許之。翼日庚申，壽率其屬降，友德整眾自東門入，得士馬三萬。分兵會朱亮祖，徇州縣之未附者。壬戌，崇慶知州尹善清拒戰，擊敗，斬之，判官王桂華率父老降。壽、大亨既降，至夔峽，皆鑿舟自沈死。
八月，上遣使諭湯和等曰：「為將貴審機而重料敵。今全蜀已下，惟吳友仁尚據保寧，偷旦夕之命，乘機而取之，此破竹之勢，無不克者。將軍徘徊不進何也？吾付將軍以大任，而臨事往往逗撓如此，何以總軍政寄國事乎！」和聞詔，遣周德興會傅友德克其城，執友仁送京師，誅之，蜀地悉平。明昇至京師，廷臣上言：「宋乾德間孟昶降，有叩頭伏罪禮。」上曰：「昶奢淫自恣。昇幼，孽自臣下，可免其伏地禮。」封昇為歸義侯，居第京師。已而，投昇於高麗。
命曹國公李文忠經理四川，文忠以成都舊城卑隘，增築新城，高壘深池，規制略備。時傅友德駐兵保寧，湯和駐兵重慶，各遣人招輯番、漢人民及明氏潰亡士卒來歸者，因籍其壯丁。丙子，置成都右、中、前、後四衛分隸之。復置保寧守禦千戶所，調濠、梁等衛官軍守之。
十二月辛卯，賞平蜀將士，傅友德、廖永忠各白金二百五十兩，彩緞二十表。滎陽侯楊璟、南雄侯趙庸、永嘉侯朱亮祖不與賞。上親製《平西蜀文》，紀傅、廖二將之功。
